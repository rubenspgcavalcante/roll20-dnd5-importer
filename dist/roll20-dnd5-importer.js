(()=>{"use strict";var t=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var e="[dnd5-importer]",r="".concat(n.reduce((function(t,n){return"".concat(t," ").concat((null==(o=n)?void 0:o.message)?o.message:"object"==typeof o?JSON.stringify(o,null,2):(null==o?void 0:o.toString)?o.toString():o);var o}),""));"chat"!==t?log("".concat(e,"[").concat(t.toUpperCase(),"]:").concat(r)):sendChat(e,r)},n=/!dnd5-importer --(.+) ({.*})/;on("ready",(function(){log("Hello Roll20")})),on("chat:message",(function(o){if("api"===o.type){var e=function(o){var e;if(n.test(o))try{var r=o.match(n),a=(r[0],r[1]),c=r[2];return(e={})[a]=JSON.parse(c),e}catch(n){t("error",n)}else t("info",o,"does not match the API")}(o.content);t("chat","parsing JSON:",e.json)}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sbDIwLWRuZDUtaW1wb3J0ZXIuanMiLCJtYXBwaW5ncyI6Im1CQUVPLElBQU1BLEVBQVMsU0FBQ0MsRyxJQUFlLHdEQUNwQyxJQWdCTUMsRUFBTSxrQkFDTkMsRUFBVSxVQUFHQyxFQUFLQyxRQUFPLFNBQUNDLEVBQU1DLEdBQVMsZ0JBQUdELEVBQUksYUFoQi9DRSxPQURXQSxFQWlCaURELFFBaEJ6RCxFQUFIQyxFQUFlTCxTQUNWSyxFQUFjTCxRQUdMLGlCQUFSSyxFQUNGQyxLQUFLQyxVQUFVRixFQUFLLEtBQU0sSUFHL0JBLGFBQUcsRUFBSEEsRUFBS0csVUFDQUgsRUFBSUcsV0FHTkgsR0FiUSxJQUFDQSxDQWlCNkIsR0FBNkIsS0FFL0QsU0FBVFAsRUFLSlcsSUFBSSxVQUFHVixFQUFHLFlBQUlELEVBQUtZLGNBQWEsYUFBS1YsSUFKbkNXLFNBQVNaLEVBQUtDLEVBS2xCLEVDakJNWSxFQUFnQiwrQkNQdEJDLEdBQUcsU0FBUyxXQUNWSixJQUFJLGVBQ04sSUFFQUksR0FBRyxnQkFBZ0IsU0FBQ0MsR0FDbEIsR0FBaUIsUUFBYkEsRUFBSWhCLEtBQVIsQ0FJQSxJQUFNaUIsRURBb0IsU0FBQ0MsRyxNQUMzQixHQUFLSixFQUFjSyxLQUFLRCxHQUt4QixJQUNRLE1BQXFCQSxFQUFXRSxNQUFNTixHQUFsQ08sR0FBRixLQUFRLE1BQUVDLEVBQUssS0FDdkIsT0FBTyxFQUFQLElBQVVELEdBQVNiLEtBQUtlLE1BQU1ELEdBQWlDLENBQ2pFLENBQUUsTUFBT0UsR0FDUHpCLEVBQU8sUUFBU3lCLEVBQ2xCLE1BVEV6QixFQUFPLE9BQVFtQixFQUFZLHlCQVUvQixDQ1prQk8sQ0FBYVQsRUFBSVUsU0FDakMzQixFQUFPLE9BQVEsZ0JBQWlCa0IsRUFBUVUsS0FIeEMsQ0FJRixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9sbDIwLWRuZDUtaW1wb3J0ZXIvLi9zcmMvaGVscGVycy9sb2dnZXIudHMiLCJ3ZWJwYWNrOi8vcm9sbDIwLWRuZDUtaW1wb3J0ZXIvLi9zcmMvaGVscGVycy9wYXJzZU9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vcm9sbDIwLWRuZDUtaW1wb3J0ZXIvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsidHlwZSBMb2dUeXBlID0gJ2NoYXQnIHwgJ2xvZycgfCAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvZ2dlciA9ICh0eXBlOiBMb2dUeXBlLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPHR5cGVvZiBsb2c+KSA9PiB7XHJcbiAgY29uc3Qgc3RyaW5nZnkgPSAodmFsOiB1bmtub3duKSA9PiB7XHJcbiAgICBpZiAoKHZhbCBhcyBFcnJvcik/Lm1lc3NhZ2UpIHtcclxuICAgICAgcmV0dXJuICh2YWwgYXMgRXJyb3IpLm1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWw/LnRvU3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiB2YWwudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHRhZyA9IGBbZG5kNS1pbXBvcnRlcl1gO1xyXG4gIGNvbnN0IG1lc3NhZ2UgPSBgJHthcmdzLnJlZHVjZSgocHJldiwgY3VycikgPT4gYCR7cHJldn0gJHtzdHJpbmdmeShjdXJyKX1gLCAnJyl9YDtcclxuXHJcbiAgaWYgKHR5cGUgPT09ICdjaGF0Jykge1xyXG4gICAgc2VuZENoYXQodGFnLCBtZXNzYWdlKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGxvZyhgJHt0YWd9WyR7dHlwZS50b1VwcGVyQ2FzZSgpfV06JHttZXNzYWdlfWApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5cbnR5cGUgT3B0aW9uVmFsdWVNYXAgPSB7XG4gIGpzb246IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBoZWxwOiBuZXZlcjtcbn07XG5cbnR5cGUgT3B0aW9ucyA9IGtleW9mIE9wdGlvblZhbHVlTWFwO1xuXG5leHBvcnQgdHlwZSBBUElNZXNzYWdlQ2FsbCA9IGAhZG5kNS1pbXBvcnRlciAtLSR7T3B0aW9uc30gJHtzdHJpbmd9YDtcblxuY29uc3Qgb3B0aW9uc1JlZ0V4cCA9IC8hZG5kNS1pbXBvcnRlciAtLSguKykgKHsuKn0pLztcblxuZXhwb3J0IGNvbnN0IHBhcnNlT3B0aW9ucyA9IChtc2dDb250ZW50OiBBUElNZXNzYWdlQ2FsbCkgPT4ge1xuICBpZiAoIW9wdGlvbnNSZWdFeHAudGVzdChtc2dDb250ZW50KSkge1xuICAgIGxvZ2dlcignaW5mbycsIG1zZ0NvbnRlbnQsICdkb2VzIG5vdCBtYXRjaCB0aGUgQVBJJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBbXywgb3B0aW9uLCB2YWx1ZV0gPSBtc2dDb250ZW50Lm1hdGNoKG9wdGlvbnNSZWdFeHApO1xuICAgIHJldHVybiB7IFtvcHRpb25dOiBKU09OLnBhcnNlKHZhbHVlKSBhcyBPcHRpb25WYWx1ZU1hcFtPcHRpb25zXSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlcignZXJyb3InLCBlcnJvcik7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2hlbHBlcnMvbG9nZ2VyJztcbmltcG9ydCB0eXBlIHsgQVBJTWVzc2FnZUNhbGwgfSBmcm9tICcuL2hlbHBlcnMvcGFyc2VPcHRpb25zJztcbmltcG9ydCB7IHBhcnNlT3B0aW9ucyB9IGZyb20gJy4vaGVscGVycy9wYXJzZU9wdGlvbnMnO1xuXG5vbigncmVhZHknLCAoKSA9PiB7XG4gIGxvZygnSGVsbG8gUm9sbDIwJyk7XG59KTtcblxub24oJ2NoYXQ6bWVzc2FnZScsIChtc2cpID0+IHtcbiAgaWYgKG1zZy50eXBlICE9PSAnYXBpJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSBwYXJzZU9wdGlvbnMobXNnLmNvbnRlbnQgYXMgQVBJTWVzc2FnZUNhbGwpO1xuICBsb2dnZXIoJ2NoYXQnLCAncGFyc2luZyBKU09OOicsIG9wdGlvbnMuanNvbik7XG59KTtcbiJdLCJuYW1lcyI6WyJsb2dnZXIiLCJ0eXBlIiwidGFnIiwibWVzc2FnZSIsImFyZ3MiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInZhbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsImxvZyIsInRvVXBwZXJDYXNlIiwic2VuZENoYXQiLCJvcHRpb25zUmVnRXhwIiwib24iLCJtc2ciLCJvcHRpb25zIiwibXNnQ29udGVudCIsInRlc3QiLCJtYXRjaCIsIm9wdGlvbiIsInZhbHVlIiwicGFyc2UiLCJlcnJvciIsInBhcnNlT3B0aW9ucyIsImNvbnRlbnQiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==